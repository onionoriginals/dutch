@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Variable Tokens */
:root {
  /* Background / Foreground */
  --background: 0 0% 96%; /* hsl(0 0% 96%) */
  --foreground: 0 0% 10%; /* hsl(0 0% 10%) */

  /* Brand / Primary */
  --primary: 0 0% 10%; /* near-black */
  --primary-foreground: 0 0% 100%;

  --secondary: 0 0% 100%;
  --secondary-foreground: 0 0% 10%;

  --accent: 0 0% 92%;
  --accent-foreground: 0 0% 10%;

  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 100%;

  --muted: 0 0% 92%;
  --muted-foreground: 0 0% 45%;

  --card: 0 0% 100%;
  --card-foreground: 0 0% 10%;

  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 10%;

  --border: 0 0% 88%;
  --input: 0 0% 88%;
  --ring: 0 0% 10%;

  /* Radius */
  --radius-lg: 0.625rem; /* 10px */
  --radius-md: 0.5rem;   /* 8px */
  --radius-sm: 0.375rem; /* 6px */

  /* Spacing scale (favoring 8px steps) */
  --space-1: 0.5rem;  /* 8 */
  --space-2: 1rem;    /* 16 */
  --space-3: 1.5rem;  /* 24 */
  --space-4: 2rem;    /* 32 */
  --space-5: 2.5rem;  /* 40 */
  --space-6: 3rem;    /* 48 */
  --space-7: 3.5rem;  /* 56 */
  --space-8: 4rem;    /* 64 */
  --space-9: 4.5rem;  /* 72 */
  --space-10: 5rem;   /* 80 */

  /* Shadows (very light) */
  --shadow-xs: 0 1px 0 rgba(0,0,0,0.03);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.04);
  --shadow-md: 0 2px 4px rgba(0,0,0,0.05);
  --shadow-lg: 0 8px 16px rgba(0,0,0,0.06);
  --shadow-xl: 0 20px 25px rgba(0,0,0,0.08), 0 10px 10px rgba(0,0,0,0.03);
}

.dark {
  --background: 0 0% 4%;
  --foreground: 0 0% 98%;

  --primary: 0 0% 100%;
  --primary-foreground: 0 0% 10%;

  --secondary: 0 0% 10%;
  --secondary-foreground: 0 0% 98%;

  --accent: 0 0% 12%;
  --accent-foreground: 0 0% 98%;

  --destructive: 0 62.8% 45.6%;
  --destructive-foreground: 0 0% 98%;

  --muted: 0 0% 12%;
  --muted-foreground: 0 0% 65%;

  --card: 0 0% 6%;
  --card-foreground: 0 0% 98%;

  --popover: 0 0% 6%;
  --popover-foreground: 0 0% 98%;

  --border: 0 0% 16%;
  --input: 0 0% 16%;
  --ring: 0 0% 98%;
}

/* Base styles and accessibility */
@layer base {
  * { @apply border-border; }
  html { font-feature-settings: "rlig" 1, "calt" 1; }
  body { @apply bg-background text-foreground; font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; font-size: 0.9375rem; line-height: 1.6; }

  h1 { font-size: 1.5rem; line-height: 1.25; font-weight: 600; letter-spacing: -0.01em; }
  h2 { font-size: 1.25rem; line-height: 1.35; font-weight: 600; letter-spacing: -0.005em; }
  label { @apply text-muted-foreground; font-size: 0.8125rem; line-height: 1.4; font-weight: 500; }

  /* Focus ring & reduced motion */
  :focus-visible { outline: none; }
  @media (prefers-reduced-motion: reduce) {
    * { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; }
    *:not([data-allow-motion]) { animation: none !important; transition: none !important; }
  }
}

/* Components */
@layer components {
  .btn { @apply inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-semibold transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/20 focus-visible:ring-offset-2 ring-offset-background disabled:pointer-events-none disabled:opacity-70; height: 44px; border-radius: var(--radius-md); }
  .btn-primary { @apply btn bg-primary text-primary-foreground hover:bg-black active:bg-black; }
  .btn-secondary { @apply btn bg-secondary text-secondary-foreground hover:bg-secondary/80 active:bg-secondary/70; }
  .btn-ghost { @apply btn bg-transparent hover:bg-muted active:bg-muted/70; }

  .card { @apply rounded-lg border bg-card text-card-foreground shadow-none; }
  .card-content { @apply p-6; }

  .input { @apply flex w-full rounded-md border bg-white px-3 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/20 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-60; height: 44px; border-color: hsl(var(--border)); border-radius: var(--radius-md); }
  .input:focus-visible { border-color: hsl(var(--ring)); box-shadow: 0 0 0 2px hsl(var(--ring) / 0.12); }

  .select { @apply input pr-8 bg-white; }

  .badge { @apply inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors; }
  .badge-default { @apply bg-secondary text-secondary-foreground; }
  .badge-destructive { @apply bg-destructive text-destructive-foreground; }

  .skeleton { @apply relative overflow-hidden rounded-md bg-muted; background-image: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.3), rgba(255,255,255,0)); background-size: 200% 100%; }
  .skeleton[data-animated="true"] { @apply animate-shimmer; }
}

